# Civic Constitution (Cathedral Governance)
# This file defines the rules for democratic governance of this repository

version: 1

# Voting system configuration
voting:
  mode: gic_weighted         # or one_person_one_vote during bootstrap
  quorum: 150                # minimum voters required for valid vote
  
  # Approval thresholds by change type
  thresholds:
    default: 0.55            # simple majority for normal changes
    breaking: 0.66           # supermajority for risky changes
    docs: 0.50               # lighter threshold for documentation
    governance: 0.75         # higher bar for constitution changes

# Label-based change classification
labels:
  breaking: ["breaking", "security", "consensus-change", "api-change"]
  docs: ["docs", "readme", "documentation"]
  governance: ["constitution", "governance", "voting"]

# Time-based restrictions
windows:
  change_freeze:
    enabled: true
    schedule: "FRI 18:00..MON 09:00 UTC"  # freeze merges except hotfix
    exceptions: ["hotfix", "security"]

# Emergency procedures
emergency_freeze:
  enabled: true
  duration_hours: 72
  # Multi-sig approvers who can trigger emergency freeze
  multisig_approvers: 
    - "founder:alice"
    - "elder:beta" 
    - "elder:gamma"
  required_signatures: 2

# Agent governance
agents:
  # Agents must follow same voting rules
  subject_to_vote: true
  # Rate limits for agent PRs
  rate_limits:
    hermes: 5   # max PRs per day
    zeus: 3     # max PRs per day
  # Agents cannot modify governance files without human sponsor
  restricted_paths: ["/policy/", "/.github/workflows/civic-vote.yml", "/SECURITY.md"]
